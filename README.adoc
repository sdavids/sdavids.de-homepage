= sdavids.de Homepage
Sebastian Davids <sdavids@gmx.de>

// Metadata:
:description: Sebastian Davids' Homepage

// Settings:
:sectnums:
:sectanchors:
:sectlinks:
:toc: macro
:hide-uri-scheme:

// Refs:
:docker-install-url: https://docs.docker.com/install/
:nvm-install-url: https://github.com/nvm-sh/nvm#installing-and-updating
:fnm-install-url: https://github.com/Schniz/fnm#installation

ifdef::env-browser[:outfilesuffix: .adoc]

ifdef::env-github[]
:outfilesuffix: .adoc
endif::[]

toc::[]

== Development Environment Setup

=== Docker

Install {docker-install-url}[Docker].

=== Node Version Manager

Install {nvm-install-url}[NVM] or {fnm-install-url}[fnm].

=== husky

This repository uses https://typicode.github.io/husky/[husky] for git hooks.

More information: https://typicode.github.io/husky/troubleshooting.html#command-not-found[Husky - Command not found]

==== nvm

.~/.huskyrc
[source,shell]
----
export NVM_DIR="${HOME}/.nvm"

if [[ -f "${NVM_DIR}/nvm.sh" ]]; then
  source "${NVM_DIR}/nvm.sh"

  if [[ -f ".nvmrc" ]]; then
    nvm use
  fi
fi
----

==== fnm

.~/.huskyrc
[source,shell]
----
if type fnm &>/dev/null; then
  eval "$(fnm env)"

  if [[ -f .node-version || -f .nvmrc ]]; then
    fnm use --silent-if-unchanged
  fi
fi
----

=== jq

==== Linux

[source,shell]
----
$ sudo apt-get install jq
----

==== Mac

[source,shell]
----
$ brew install jq
----

=== brotli

==== Linux

[source,shell]
----
$ sudo apt-get install brotli
----

==== Mac

[source,shell]
----
$ brew install brotli
----

=== shellcheck

==== Linux

[source,shell]
----
$ sudo apt-get install shellcheck
----

==== Mac

[source,shell]
----
$ brew install shellcheck
----

=== gpg

==== Linux

[source,shell]
----
$ sudo apt-get install gpg
----

==== Mac

Install https://gpgtools.org[GPG Suite].

== Local Dev

[source,shell]
----
$ cd hp
$ npm i
----

=== Shell 1

[source,shell]
----
$ npm run dev:css
----

=== Shell 2

[source,shell]
----
$ npm run dev
----

=> http://localhost:3000

== Local Build

[source,shell]
----
$ cd hp
$ npm run clean
$ npm run clean:node
$ npm i
$ npm run build
$ npm run minify:html
$ npm run minify:xml
$ npm run minify:json
$ npm run minify:robots
$ npm run compress:files
$ npm run create:google-verification-file
----
